# OOP in scala

## Singleton Object

- `object Name {}`
- Инициализируется 1 раз в момент первого вызова

## Companion (нахуй не нужен)

- Важно понимать, что объект-компаньон не является экземпляром класса. Это другая хуета.
- Хуй его знает зачем он мне нужен. Позволяет сделать приватным конструктор класса. Чтобы объект-компаньон (фабрика?) был единственным способом добраться до конструктора. 
- Реализуется как `class Имя {}` и затем `object Имя {}`, **находящиеся в одном файле**

## Apply и Unapply

- Apply собирает объект из параметров
- Unapply разбирает объект на параметры. Хорошо для поддержки Pattern Matching

## Classes

- значения, переданные **конструктору** c `val`, легко прочитать как `имя_класса.параметр`. Без `val` доступны будут только классу.
- Вот создали мы 2 объекта через компаньон, а они не равны друг другу через `==`.

### `case`-Classes

- Не требуют создания экземпляров
- Реализует `companion object` автоматом. То есть экземпляр создается без `new`.
- Экземпляры равны друг другу.
- Реализует `apply` и `unapply` автоматом.
- Не нужно писать `val` для того, чтобы сделать параметр свойством объекта, которое можно прочитать.
- getter-функции уже определены
- `equals`, `hashCode`, `toString`
- Создает метод `copy()`. Инстанс можно поменять, если с `copy()` передать новые значения некоторых параметров. Вернет (новый) измененный объект.
- Аналогичен JS-объекту в плане структуры, только immutable.
- ? окружение (?)

### Абстрактные классы

- Хороши для определения структуры
- `sealed abstract class` + `case class` = ничего больше не добавить.
